[pytest]
# Pytest configuration

# Test discovery patterns
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Test directories
testpaths = tests

# Minimum Python version
minversion = 3.8

# Output options
addopts = 
    -ra
    --strict-markers
    --ignore=legacy
    --ignore=streaming
    --ignore=Docs
    --maxfail=1
    --tb=short
    --disable-warnings

# Custom markers
markers =
    unit: Unit tests (fast, isolated)
    integration: Integration tests (may require external resources)
    slow: Slow running tests
    asyncio: Async tests
    skip_ci: Skip in CI/CD pipeline
    critical: Critical tests that must never fail
    smoke: Quick smoke tests for basic functionality

# Asyncio configuration
asyncio_mode = auto

# Coverage paths
norecursedirs = .git .tox dist build *.egg htmlcov data logs legacy Docs streaming

# Environment variables for testing
env = 
    TESTING=true
    LOG_LEVEL=DEBUG